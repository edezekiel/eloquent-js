<body>

    <h1>Heading with a <span>span</span> element.</h1>
    <p>A paragraph with <span>one</span>, <span>two</span>
      spans.</p>
</body>

<script>

const byTagName = (node, tagName) => {
    const nodes = node.childNodes;
    const nodesArray = Array.from(nodes);
    let results = nodesArray.filter(node => node.nodeName === tagName.toUpperCase());
    return results;
}

//console.log(byTagName(document.body, "span"));

const flatten = node => {
    console.log(`node = ${node}`)
    if (node.nodeType === Node.ELEMENT_NODE && !!node.childNodes) {
        const nodes = node.childNodes;
        const nodesArray = Array.from(nodes);
        //console.log(nodesArray);
        return nodesArray.forEach(node => flatten(node));
        // nodesArray.forEach(n => flatten(n));
        // return flatten(node)

    } else {
        return node;
    }
}

let flat = flatten(document.body);
console.log(flat);

</script>